# Function Expressions - Another Way to Make Functions!

In JavaScript, functions aren't just magical code blocks. They're actually **values**, like numbers or text!

Remember the way we made functions before? That's called a **Function Declaration**:

```js
function sayHi() {
  alert( "Hello" );
}
```

But there's another way to create functions called a **Function Expression**. Check this out:

```js
let sayHi = function() {
  alert( "Hello" );
};
```

See the difference? We're creating a function and storing it in a variable, just like you'd store a number or text! Both ways do the same job: they create a function called `sayHi`.

Want to see something cool? You can actually print the function itself:

```js run
function sayHi() {
  alert( "Hello" );
}

*!*
alert( sayHi ); // shows the actual function code
*/!*
```

Notice: no parentheses `()` after `sayHi`! Without `()`, you're just showing the function. With `()`, you're running it.

## Functions Are Like Containers You Can Move Around

Since functions are values, you can copy them to other variables:

```js run no-beautify
function sayHi() {   // (1) create the function
  alert( "Hello" );
}

let func = sayHi;    // (2) copy it to another variable

func(); // Hello     // (3) both names work!
sayHi(); // Hello    // both do the same thing!
```

What's happening here:
1. We create a function and name it `sayHi`
2. We copy it to a new variable called `func` (no parentheses! We want the function itself, not the result)
3. Now we can call it using either name: `sayHi()` or `func()`

This works with Function Expressions too:

```js
let sayHi = function() {
  alert( "Hello" );
};

let func = sayHi;
// both work the same!
```

````smart header="Why the semicolon?"
You might notice:

```js
function sayHi() {
  // no semicolon here
}

let sayHi = function() {
  // semicolon here!
}*!*;*/!*
```

Simple answer:
- Regular Function Declarations don't need semicolons (like `if` statements or loops)
- Function Expressions are part of a variable assignment (`let sayHi = ...`), so they need a semicolon just like `let x = 5;`
````

## Callback Functions - Passing Functions as Gifts! 

Here's where it gets fun! You can pass functions to other functions as parameters.

Let's make a function that asks a question and runs different functions based on the answer:

```js run
*!*
function ask(question, yes, no) {
  if (confirm(question)) yes()
  else no();
}
*/!*

function showOk() {
  alert( "You agreed." );
}

function showCancel() {
  alert( "You canceled the execution." );
}

// Pass the functions as parameters!
ask("Do you agree?", showOk, showCancel);
```

**The functions `showOk` and `showCancel` are called *callbacks*.**

Why "callbacks"? Because we're passing them in, and they get "called back" later when needed!

We can make this even shorter using Function Expressions:

```js run no-beautify
function ask(question, yes, no) {
  if (confirm(question)) yes()
  else no();
}

*!*
ask(
  "Do you agree?",
  function() { alert("You agreed."); },
  function() { alert("You canceled the execution."); }
);
*/!*
```

These functions don't even have names! They're called **anonymous functions** (anonymous = no name). They're created right where we need them and disappear after. Perfect for quick, one-time use!

```smart header="Functions = Actions"
Think of it this way:
- Variables like strings or numbers hold **data** (information)
- Functions hold **actions** (things to do)

You can pass actions around just like you pass data!
```

## Declaration vs Expression - What's the Difference?

Let's compare the two styles:

**Function Declaration:**
```js
// Standing alone, its own statement
function sum(a, b) {
  return a + b;
}
```

**Function Expression:**
```js
// Created inside a variable assignment
let sum = function(a, b) {
  return a + b;
};
```

### The Big Difference: WHEN They're Ready to Use

**Function Expressions** are created when the code reaches that line:

```js run refresh untrusted
*!*
sayHi("John"); // ERROR! Too early!
*/!*

let sayHi = function(name) {
  alert( `Hello, ${name}` );
};
```

This breaks because `sayHi` doesn't exist yet when we try to use it.

**Function Declarations** are available immediately - even BEFORE their code appears!

```js run refresh untrusted
*!*
sayHi("John"); // Hello, John - it works!
*/!*

function sayHi(name) {
  alert( `Hello, ${name}` );
}
```

Why? JavaScript reads through your code and creates all Function Declarations first, before running anything. It's like JavaScript does homework preparation!

### Block Scope Problem with Declarations

Function Declarations are trapped inside their `{}` blocks:

```js run
let age = prompt("What is your age?", 18);

if (age < 18) {
  function welcome() {
    alert("Hello!");
  }
} else {
  function welcome() {
    alert("Greetings!");
  }
}

*!*
welcome(); // ERROR! welcome doesn't exist here
*/!*
```

The `welcome` function is stuck inside the `if/else` blocks. Outside those blocks, it doesn't exist.

**Fix #1: Use Function Expression with a variable:**

```js run
let age = prompt("What is your age?", 18);

let welcome;  // create variable outside

if (age < 18) {
  welcome = function() {
    alert("Hello!");
  };
} else {
  welcome = function() {
    alert("Greetings!");
  };
}

*!*
welcome(); // Works now!
*/!*
```

**Fix #2: Use the ternary operator (super short!):**

```js run
let age = prompt("What is your age?", 18);

let welcome = (age < 18) ?
  function() { alert("Hello!"); } :
  function() { alert("Greetings!"); };

*!*
welcome(); // Works!
*/!*
```

```smart header="Which one should I use?"
**Most of the time, use Function Declarations!**

Why?
- You can call them before they're defined (more flexible)
- Easier to spot in your code
- More readable

**Use Function Expressions when:**
- You need to create a function conditionally (like in `if/else`)
- You want to pass a function as a callback
- You need a quick anonymous function
```

## Quick Recap

**Key points:**
- Functions are values - you can copy them, pass them around, store them in variables
- **Function Declaration** = standalone statement in your code
- **Function Expression** = function created as part of an assignment
- Function Declarations are ready to use immediately (even before their code appears)
- Function Expressions are only ready when the code reaches them
- Function Declarations are trapped inside their `{}` blocks

**Rule of thumb:** Use Function Declarations by default. Use Function Expressions when you need the special features (callbacks, conditional creation, etc).

Both are powerful tools - now you know when to use each one! ðŸš€
